<!-- Cache-Buster: 1759577324 --><!doctype html>
<html lang="en">
  <head>
    <link rel="dns-prefetch" href="https://www.googletagmanager.com" />
    <link rel="dns-prefetch" href="https://fonts.gstatic.com" />
    <link rel="dns-prefetch" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <meta
      name="description"
      content="LyDian AI: Enterprise artificial intelligence solutions with Quantum Reasoning, Velocity Engine and Multimodal AI. HIPAA compliant, multilingual, 24/7 suppor..."
    />
    <meta
      name="keywords"
      content="lydian ai, ai platform, quantum ai, velocity engine, enterprise ai, medical ai, legal ai, multilingual ai, hipaa compliant, real-time translation"
    />
    <link rel="canonical" href="https://www.ailydian.com/cost-dashboard" />
    <meta
      property="og:title"
      content="LyDian AI ‚Äî Enterprise AI Platform | Quantum AI &amp; Velocity Engine"
    />
    <meta
      property="og:description"
      content="LyDian AI: Enterprise artificial intelligence solutions with Quantum Reasoning, Velocity Engine and Multimodal AI. HIPAA compliant, multilingual, 24/7 support. Medical diagnosis, legal consulting and more."
    />
    <meta property="og:url" content="https://www.ailydian.com/cost-dashboard" />
    <meta property="og:type" content="website" />
    <meta property="og:locale" content="en_US" />
    <link rel="alternate" hreflang="tr" href="https://www.ailydian.com/tr/cost-dashboard" />
    <link rel="alternate" hreflang="en" href="https://www.ailydian.com/en/cost-dashboard" />
    <link rel="alternate" hreflang="de" href="https://www.ailydian.com/de/cost-dashboard" />
    <link rel="alternate" hreflang="ru" href="https://www.ailydian.com/ru/cost-dashboard" />
    <link rel="alternate" hreflang="uk" href="https://www.ailydian.com/uk/cost-dashboard" />
    <link rel="alternate" hreflang="zh" href="https://www.ailydian.com/zh/cost-dashboard" />
    <link rel="alternate" hreflang="it" href="https://www.ailydian.com/it/cost-dashboard" />

    <!-- Favicon -->

    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>üí∞ Cost Tracking Dashboard - LyDian Ultra Pro</title>
    <style>
      :root {
        --bg-0: #0a0b0d;
        --txt-1: #ffffff;
        --txt-2: #b0b0b0;
        --accent-1: #00e0ae;
        --accent-2: #6e84ff;
        --glass: rgba(255, 255, 255, 0.05);
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family:
          -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell,
          sans-serif;
        background:
          radial-gradient(1400px 900px at 70% 15%, rgba(184, 107, 255, 0.1), transparent 60%),
          radial-gradient(1200px 700px at 20% 80%, rgba(110, 132, 255, 0.1), transparent 65%),
          var(--bg-0);
        color: var(--txt-1);
        min-height: 100vh;
        padding: 20px;
      }

      .container {
        max-width: 1400px;
        margin: 0 auto;
      }

      .header {
        background: var(--glass);
        backdrop-filter: blur(12px);
        border: 1px solid rgba(255, 255, 255, 0.1);
        padding: 30px;
        border-radius: 16px;
        box-shadow:
          0 10px 40px rgba(0, 0, 0, 0.3),
          0 0 20px rgba(110, 132, 255, 0.1);
        margin-bottom: 30px;
      }

      .header h1 {
        color: var(--txt-1);
        font-size: 32px;
        font-weight: 700;
        margin-bottom: 10px;
        text-shadow: 0 0 20px rgba(0, 224, 174, 0.3);
      }

      .header p {
        color: var(--txt-2);
        font-size: 16px;
      }

      .stats-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 20px;
        margin-bottom: 30px;
      }

      .stat-card {
        background: var(--glass);
        backdrop-filter: blur(12px);
        border: 1px solid rgba(255, 255, 255, 0.1);
        padding: 25px;
        border-radius: 16px;
        box-shadow:
          0 10px 40px rgba(0, 0, 0, 0.3),
          0 0 20px rgba(110, 132, 255, 0.05);
        transition:
          transform 0.3s ease,
          box-shadow 0.3s ease;
      }

      .stat-card:hover {
        transform: translateY(-5px);
        box-shadow:
          0 15px 50px rgba(0, 0, 0, 0.4),
          0 0 30px rgba(0, 224, 174, 0.2);
      }

      .stat-card.critical {
        border-left: 4px solid #ff4d6d;
        box-shadow:
          0 10px 40px rgba(0, 0, 0, 0.3),
          0 0 20px rgba(255, 77, 109, 0.3);
      }

      .stat-card.warning {
        border-left: 4px solid #ffb800;
        box-shadow:
          0 10px 40px rgba(0, 0, 0, 0.3),
          0 0 20px rgba(255, 184, 0, 0.3);
      }

      .stat-card.healthy {
        border-left: 4px solid #00e0ae;
        box-shadow:
          0 10px 40px rgba(0, 0, 0, 0.3),
          0 0 20px rgba(0, 224, 174, 0.3);
      }

      .stat-label {
        color: var(--txt-2);
        font-size: 14px;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 1px;
        margin-bottom: 10px;
      }

      .stat-value {
        color: var(--txt-1);
        font-size: 36px;
        font-weight: 700;
        margin-bottom: 5px;
        text-shadow: 0 0 15px rgba(0, 224, 174, 0.3);
      }

      .stat-change {
        font-size: 14px;
        color: #00e0ae;
      }

      .stat-change.negative {
        color: #ff4d6d;
      }

      .chart-container {
        background: var(--glass);
        backdrop-filter: blur(12px);
        border: 1px solid rgba(255, 255, 255, 0.1);
        padding: 30px;
        border-radius: 16px;
        box-shadow:
          0 10px 40px rgba(0, 0, 0, 0.3),
          0 0 20px rgba(110, 132, 255, 0.1);
        margin-bottom: 30px;
      }

      .chart-container h2 {
        color: var(--txt-1);
        font-size: 20px;
        font-weight: 700;
        margin-bottom: 20px;
        text-shadow: 0 0 15px rgba(0, 224, 174, 0.2);
      }

      .models-list {
        background: var(--glass);
        backdrop-filter: blur(12px);
        border: 1px solid rgba(255, 255, 255, 0.1);
        padding: 30px;
        border-radius: 16px;
        box-shadow:
          0 10px 40px rgba(0, 0, 0, 0.3),
          0 0 20px rgba(110, 132, 255, 0.1);
        margin-bottom: 30px;
      }

      .model-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 15px;
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      }

      .model-item:last-child {
        border-bottom: none;
      }

      .model-name {
        font-weight: 600;
        color: var(--txt-1);
      }

      .model-cost {
        font-size: 18px;
        font-weight: 700;
        color: var(--accent-1);
        text-shadow: 0 0 10px rgba(0, 224, 174, 0.5);
      }

      .progress-bar {
        width: 100%;
        height: 12px;
        background: rgba(255, 255, 255, 0.1);
        border-radius: 6px;
        overflow: hidden;
        margin: 10px 0;
      }

      .progress-fill {
        height: 100%;
        background: linear-gradient(90deg, #00e0ae 0%, #6e84ff 100%);
        box-shadow: 0 0 15px rgba(0, 224, 174, 0.5);
        transition: width 0.5s ease;
      }

      .progress-fill.warning {
        background: linear-gradient(90deg, #ffb800 0%, #ff4d6d 100%);
        box-shadow: 0 0 15px rgba(255, 184, 0, 0.5);
      }

      .progress-fill.critical {
        background: linear-gradient(90deg, #ff4d6d 0%, #c53030 100%);
        box-shadow: 0 0 15px rgba(255, 77, 109, 0.5);
      }

      .alert {
        padding: 15px 20px;
        border-radius: 10px;
        margin-bottom: 15px;
        display: flex;
        align-items: center;
        gap: 10px;
        backdrop-filter: blur(12px);
      }

      .alert.critical {
        background: rgba(255, 77, 109, 0.1);
        border: 1px solid rgba(255, 77, 109, 0.3);
        border-left: 4px solid #ff4d6d;
        color: #ff4d6d;
        box-shadow: 0 0 20px rgba(255, 77, 109, 0.2);
      }

      .alert.warning {
        background: rgba(255, 184, 0, 0.1);
        border: 1px solid rgba(255, 184, 0, 0.3);
        border-left: 4px solid #ffb800;
        color: #ffb800;
        box-shadow: 0 0 20px rgba(255, 184, 0, 0.2);
      }

      .recommendations {
        background: var(--glass);
        backdrop-filter: blur(12px);
        border: 1px solid rgba(255, 255, 255, 0.1);
        padding: 30px;
        border-radius: 16px;
        box-shadow:
          0 10px 40px rgba(0, 0, 0, 0.3),
          0 0 20px rgba(110, 132, 255, 0.1);
        margin-bottom: 30px;
      }

      .recommendation-item {
        padding: 15px;
        background: rgba(255, 255, 255, 0.03);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 10px;
        margin-bottom: 15px;
        color: var(--txt-1);
      }

      .recommendation-item:last-child {
        margin-bottom: 0;
      }

      .savings {
        display: inline-block;
        padding: 5px 10px;
        background: rgba(0, 224, 174, 0.2);
        color: #00e0ae;
        border: 1px solid rgba(0, 224, 174, 0.3);
        border-radius: 5px;
        font-weight: 600;
        font-size: 14px;
        box-shadow: 0 0 10px rgba(0, 224, 174, 0.2);
      }

      .loading {
        text-align: center;
        padding: 50px;
        color: var(--txt-1);
        font-size: 18px;
      }

      .export-btn {
        background: linear-gradient(135deg, #00e0ae 0%, #6e84ff 100%);
        color: white;
        border: none;
        padding: 12px 24px;
        border-radius: 10px;
        font-weight: 600;
        cursor: pointer;
        transition:
          transform 0.2s ease,
          box-shadow 0.2s ease;
        box-shadow: 0 0 20px rgba(0, 224, 174, 0.3);
      }

      .export-btn:hover {
        transform: scale(1.05);
        box-shadow: 0 0 30px rgba(0, 224, 174, 0.5);
      }

      #dailyChart {
        height: 300px;
        background: rgba(255, 255, 255, 0.03);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 10px;
        padding: 20px;
      }
    </style>
    <link rel="preload" href="/css/global-lydian-branding.css" />
    <link rel="stylesheet" href="/css/global-lydian-branding.css" />

    <!-- Visual Rich Results & Images -->

    <meta property="og:image" content="https://www.ailydian.com/og-images/cost-dashboard.png" />
    <meta
      property="og:image:secure_url"
      content="https://www.ailydian.com/og-images/cost-dashboard.png"
    />
    <meta property="og:image:type" content="image/png" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta property="og:image:alt" content="üí∞ Cost Tracking Dashboard - LyDian Ultra Pro" />
    <meta
      name="twitter:image"
      content="https://www.ailydian.com/twitter-cards/cost-dashboard.png"
    />
    <meta name="twitter:image:alt" content="üí∞ Cost Tracking Dashboard - LyDian Ultra Pro" />
    <meta property="og:image" content="https://www.ailydian.com/og-images/cost-dashboard-2.png" />
    <meta property="og:image" content="https://www.ailydian.com/og-images/cost-dashboard-3.png" />
    <meta property="og:image" content="https://www.ailydian.com/og-images/cost-dashboard-4.png" />

    <meta
      name="msapplication-TileImage"
      content="https://www.ailydian.com/mstile/cost-dashboard.png"
    />
    <meta
      name="msapplication-square70x70logo"
      content="https://www.ailydian.com/mstile-70/cost-dashboard.png"
    />
    <meta
      name="msapplication-square150x150logo"
      content="https://www.ailydian.com/mstile-150/cost-dashboard.png"
    />

    <!-- üèÜ Premium SEO - LyDian AI Ecosystem -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "SoftwareApplication",
        "name": "üí∞ Cost Tracking Dashboard - LyDian Ultra Pro",
        "applicationCategory": "BusinessApplication",
        "operatingSystem": "Web Browser, iOS, Android",
        "description": "AI analitik ve y√∂netim - üí∞ Cost Tracking Dashboard - LyDian Ultra Pro",
        "image": [
          "https://www.ailydian.com/images/gallery/cost-dashboard-1.jpg",
          "https://www.ailydian.com/images/gallery/cost-dashboard-2.jpg",
          "https://www.ailydian.com/images/gallery/cost-dashboard-3.jpg"
        ],
        "screenshot": [
          "https://www.ailydian.com/images/gallery/cost-dashboard-1.jpg",
          "https://www.ailydian.com/images/gallery/cost-dashboard-2.jpg",
          "https://www.ailydian.com/images/gallery/cost-dashboard-3.jpg"
        ],
        "url": "https://www.ailydian.com/cost-dashboard",
        "publisher": {
          "@type": "Organization",
          "name": "LyDian AI",
          "logo": {
            "@type": "ImageObject",
            "url": "https://www.ailydian.com/images/logo/lydian-ai.png",
            "width": 512,
            "height": 512
          }
        },
        "offers": {
          "@type": "Offer",
          "price": "0",
          "priceCurrency": "TRY",
          "availability": "https://schema.org/InStock"
        },
        "aggregateRating": {
          "@type": "AggregateRating",
          "ratingValue": "4.9",
          "reviewCount": "1542",
          "bestRating": "5"
        },
        "inLanguage": ["tr", "en", "de", "ru", "uk", "zh", "it"]
      }
    </script>
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "Article",
        "headline": "üí∞ Cost Tracking Dashboard - LyDian Ultra Pro",
        "description": "AI analitik ve y√∂netim - üí∞ Cost Tracking Dashboard - LyDian Ultra Pro",
        "image": {
          "@type": "ImageObject",
          "url": "https://www.ailydian.com/images/hero/cost-dashboard.jpg",
          "width": 1200,
          "height": 630,
          "caption": "üí∞ Cost Tracking Dashboard - LyDian Ultra Pro"
        },
        "publisher": {
          "@type": "Organization",
          "name": "LyDian AI",
          "logo": {
            "@type": "ImageObject",
            "url": "https://www.ailydian.com/images/logo/lydian-ai.png",
            "width": 512,
            "height": 512
          }
        },
        "datePublished": "2024-01-15",
        "dateModified": "2025-12-20",
        "inLanguage": "tr-TR"
      }
    </script>
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "VideoObject",
        "name": "üí∞ Cost Tracking Dashboard - LyDian Ultra Pro - Video Rehber",
        "description": "AI analitik ve y√∂netim - üí∞ Cost Tracking Dashboard - LyDian Ultra Pro",
        "thumbnailUrl": "https://www.ailydian.com/images/video/cost-dashboard-preview.jpg",
        "uploadDate": "2024-01-15",
        "duration": "PT8M",
        "contentUrl": "https://www.ailydian.com/videos/cost-dashboard.mp4",
        "embedUrl": "https://www.ailydian.com/cost-dashboard#video",
        "publisher": {
          "@type": "Organization",
          "name": "LyDian AI"
        }
      }
    </script>
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "BreadcrumbList",
        "itemListElement": [
          {
            "@type": "ListItem",
            "position": 1,
            "name": "Ana Sayfa",
            "item": "https://www.ailydian.com"
          },
          {
            "@type": "ListItem",
            "position": 2,
            "name": "Cost Dashboard",
            "item": "https://www.ailydian.com/cost-dashboard"
          }
        ]
      }
    </script>

    <meta property="og:type" content="website" />
    <meta property="og:title" content="üí∞ Cost Tracking Dashboard - LyDian Ultra Pro" />
    <meta
      property="og:description"
      content="AI analitik ve y√∂netim - üí∞ Cost Tracking Dashboard - LyDian Ultra Pro"
    />
    <meta property="og:url" content="https://www.ailydian.com/cost-dashboard" />
    <meta property="og:image" content="https://www.ailydian.com/images/og/cost-dashboard.jpg" />
    <meta
      property="og:image:secure_url"
      content="https://www.ailydian.com/images/og/cost-dashboard.jpg"
    />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta property="og:image:alt" content="üí∞ Cost Tracking Dashboard - LyDian Ultra Pro" />
    <meta property="og:site_name" content="LyDian AI" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="üí∞ Cost Tracking Dashboard - LyDian Ultra Pro" />
    <meta
      name="twitter:description"
      content="AI analitik ve y√∂netim - üí∞ Cost Tracking Dashboard - LyDian Ultra Pro"
    />
    <meta
      name="twitter:image"
      content="https://www.ailydian.com/images/twitter/cost-dashboard.jpg"
    />
    <meta name="twitter:image:alt" content="üí∞ Cost Tracking Dashboard - LyDian Ultra Pro" />

    <!-- /Premium SEO -->
    <link rel="preload" type="font/woff2" href="/fonts/main.woff2" crossorigin="anonymous" />
    <!-- PWA Manifest -->
    <link rel="manifest" href="/manifest.json" />
    <meta name="theme-color" content="#C4A962" />
    <!-- iOS Safari -->
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="apple-mobile-web-app-title" content="aiLyDian AI" />
    <link rel="apple-touch-icon" href="/icons/apple-touch-icon.png" />
    <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-touch-icon-120.png" />
    <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-touch-icon-152.png" />
    <link rel="apple-touch-icon" sizes="167x167" href="/icons/apple-touch-icon-167.png" />
    <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-touch-icon-180.png" />
    <!-- Apple Splash Screens -->
    <link
      rel="apple-touch-startup-image"
      href="/icons/splash/iphone-x.png"
      media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3)"
    />
    <link
      rel="apple-touch-startup-image"
      href="/icons/splash/iphone-xr.png"
      media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2)"
    />
    <link
      rel="apple-touch-startup-image"
      href="/icons/splash/iphone-12.png"
      media="(device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3)"
    />
    <link
      rel="apple-touch-startup-image"
      href="/icons/splash/ipad.png"
      media="(device-width: 810px) and (device-height: 1080px) and (-webkit-device-pixel-ratio: 2)"
    />
    <link
      rel="apple-touch-startup-image"
      href="/icons/splash/ipad-pro-11.png"
      media="(device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2)"
    />
    <link
      rel="apple-touch-startup-image"
      href="/icons/splash/ipad-pro-12.png"
      media="(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2)"
    />
    <!-- Android/Chrome -->
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="application-name" content="aiLyDian AI" />
    <!-- Microsoft -->
    <meta name="msapplication-TileColor" content="#C4A962" />
    <meta name="msapplication-TileImage" content="/icons/ms-icon-144.png" />
    <meta name="msapplication-config" content="/browserconfig.xml" />
    <!-- Favicon (all sizes) -->
    <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32.png" />
    <link rel="icon" type="image/png" sizes="48x48" href="/icons/favicon-48.png" />
    <link rel="icon" type="image/x-icon" href="/icons/favicon.ico" />
    <link rel="shortcut icon" href="/icons/favicon.ico" /></head>
  <body>
    <div class="container">
      <div class="header">
        <h1>üí∞ Cost Tracking Dashboard</h1>
        <p>Real-time AI &amp; Azure service cost monitoring</p>
        <button class="export-btn" onclick="exportData()">üìä Export CSV</button>
      </div>

      <div id="alerts"></div>

      <div class="stats-grid">
        <div class="stat-card" id="totalCostCard">
          <div class="stat-label">Total Cost</div>
          <div class="stat-value">$<span id="totalCost">0.00</span></div>
          <div class="stat-change">Current Month</div>
        </div>

        <div class="stat-card">
          <div class="stat-label">AI Models Cost</div>
          <div class="stat-value">$<span id="aiCost">0.00</span></div>
          <div class="stat-change">Current Month</div>
        </div>

        <div class="stat-card">
          <div class="stat-label">Azure Services Cost</div>
          <div class="stat-value">$<span id="azureCost">0.00</span></div>
          <div class="stat-change">Current Month</div>
        </div>

        <div class="stat-card" id="budgetCard">
          <div class="stat-label">Budget Status</div>
          <div class="stat-value"><span id="budgetUsage">0</span>%</div>
          <div class="progress-bar">
            <div class="progress-fill" id="budgetProgress" style="width: 0%"></div>
          </div>
          <div class="stat-change" id="budgetRemaining">$0 remaining</div>
        </div>
      </div>

      <div class="chart-container">
        <h2>üìà Daily Cost Trend (Last 30 Days)</h2>
        <div id="dailyChart"></div>
      </div>

      <div class="models-list">
        <h2>ü§ñ Top 5 AI Models by Cost</h2>
        <div id="topModels"></div>
      </div>

      <div class="recommendations">
        <h2>üí° Cost Optimization Recommendations</h2>
        <div id="recommendations"></div>
      </div>
    </div>

    <script>
      let dashboardData = null;

      async function fetchDashboard() {
        try {
          // üîê httpOnly Cookie Authentication - cookies sent automatically
          const response = await fetch('/api/cost-tracking/dashboard', {
            credentials: 'include', // Cookies sent automatically
          });

          if (response.status === 403) {
            alert('Access denied. Admin privileges required.');
            return;
          }

          if (!response.ok) {
            throw new Error('Failed to fetch dashboard');
          }

          dashboardData = await response.json();
          updateDashboard(dashboardData);
        } catch (error) {
          console.error('Error fetching dashboard:', error);
          document.querySelector('.container').innerHTML =
            '<div class="loading">‚ùå Error loading dashboard</div>';
        }
      }

      function updateDashboard(data) {
        // Update summary
        document.getElementById('totalCost').textContent = data.summary.totalCost;
        document.getElementById('aiCost').textContent = data.summary.aiCost;
        document.getElementById('azureCost').textContent = data.summary.azureCost;

        // Update budget
        const budgetUsage = parseFloat(data.budget.usage);
        document.getElementById('budgetUsage').textContent = data.budget.usage;
        document.getElementById('budgetRemaining').textContent =
          `$${data.budget.remaining} remaining of $${data.budget.limit}`;

        const budgetProgress = document.getElementById('budgetProgress');
        budgetProgress.style.width = Math.min(budgetUsage, 100) + '%';

        // Update budget card styling
        const budgetCard = document.getElementById('budgetCard');
        budgetCard.className = 'stat-card ' + data.budget.status;

        if (budgetUsage >= 90) {
          budgetProgress.classList.add('critical');
        } else if (budgetUsage >= 75) {
          budgetProgress.classList.add('warning');
        }

        // Update alerts
        updateAlerts(data.alerts);

        // Update top models
        updateTopModels(data.aiModels.topModels);

        // Update recommendations
        updateRecommendations(data.recommendations);

        // Update daily chart
        updateDailyChart(data.trends.daily);
      }

      function updateAlerts(alerts) {
        const container = document.getElementById('alerts');
        if (alerts.length === 0) {
          container.innerHTML = '';
          return;
        }

        container.innerHTML = alerts
          .map(
            alert => `
        <div class="alert ${alert.type}">
          <strong>${alert.type === 'critical' ? 'üö®' : '‚ö†Ô∏è'}</strong>
          ${alert.message}
        </div>
      `
          )
          .join('');
      }

      function updateTopModels(models) {
        const container = document.getElementById('topModels');
        if (models.length === 0) {
          container.innerHTML = '<p style="color: #718096;">No AI model usage yet</p>';
          return;
        }

        container.innerHTML = models
          .map(
            model => `
        <div class="model-item">
          <div>
            <div class="model-name">${model.name.toUpperCase()}</div>
            <div style="color: #718096; font-size: 14px; margin-top: 5px;">
              ${model.requests.toLocaleString()} requests ‚Ä¢ ${(model.tokens / 1000).toFixed(1)}K tokens
            </div>
          </div>
          <div class="model-cost">$${model.cost.toFixed(2)}</div>
        </div>
      `
          )
          .join('');
      }

      function updateRecommendations(recommendations) {
        const container = document.getElementById('recommendations');
        container.innerHTML = recommendations
          .map(
            rec => `
        <div class="recommendation-item">
          <strong>${rec.type === 'cost_optimization' ? 'üí∞' : '‚ÑπÔ∏è'} ${rec.message}</strong>
          ${rec.savings !== '0' ? `<br><span class="savings">Potential Savings: $${rec.savings}</span>` : ''}
        </div>
      `
          )
          .join('');
      }

      function updateDailyChart(dailyData) {
        const chart = document.getElementById('dailyChart');
        const maxCost = Math.max(...dailyData.map(d => d.cost), 10);

        chart.innerHTML = dailyData
          .slice(-7)
          .map(day => {
            const height = (day.cost / maxCost) * 200;
            return `
          <div style="display: inline-block; width: 12%; margin: 0 1%; vertical-align: bottom;">
            <div style="height: 200px; display: flex; align-items: flex-end;">
              <div style="width: 100%; height: ${height}px; background: linear-gradient(180deg, #667eea 0%, #764ba2 100%); border-radius: 5px;"></div>
            </div>
            <div style="text-align: center; margin-top: 10px; font-size: 12px; color: #718096;">
              ${new Date(day.date).toLocaleDateString('en-US', { month: 'short', day: 'numeric' })}
            </div>
            <div style="text-align: center; font-weight: 600; color: #2d3748;">$${day.cost.toFixed(2)}</div>
          </div>
        `;
          })
          .join('');
      }

      function exportData() {
        // üîê httpOnly Cookie - no need to pass token in URL (more secure)
        window.location.href = `/api/cost-tracking/export?format=csv`;
      }

      // Auto-refresh every 30 seconds
      setInterval(fetchDashboard, 30000);

      // Initial load
      fetchDashboard();
    </script>
    <script src="/js/mobile-menu-handler.js"></script>
  </body>
</html>
