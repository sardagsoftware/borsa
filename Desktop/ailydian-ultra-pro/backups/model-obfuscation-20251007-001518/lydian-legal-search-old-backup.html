<!-- Cache-Buster: 1759577324 -->
<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LyDian Hukuk AI - Global Hukuk Arama Motoru</title>
    <link rel="icon" type="image/png" href="/lydian-logo.png">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            /* LyDian Legal - Telif-Free Profesyonel Hukuk Renk Paleti */
            --lydian-justice-teal: #2C7A7B;     /* Ana Profesyonel Teal */
            --lydian-dark-teal: #234E52;        /* Koyu Teal */
            --lydian-light-teal: #E6FFFA;       /* A√ßƒ±k Teal Background */
            --lydian-gold: #B7791F;             /* Altƒ±n Vurgu */
            --lydian-blue: #2B6CB0;             /* Profesyonel Mavi */
            --lydian-white: #FFFFFF;            /* Beyaz */
            --lydian-gray: #F7FAFC;             /* A√ßƒ±k Gri Background */
            --lydian-dark-gray: #2D3748;        /* Koyu Gri (text) */
            --text-dark: #1A202C;
            --text-gray: #4A5568;
            --border-light: #E2E8F0;
            --shadow: 0 4px 20px rgba(44, 122, 123, 0.15);
            --glow: 0 0 30px rgba(44, 122, 123, 0.4);
        }

        @keyframes justicePulse {
            0%, 100% {
                transform: scale(1);
                box-shadow: 0 4px 20px rgba(44, 122, 123, 0.2), 0 0 30px rgba(44, 122, 123, 0.15);
            }
            50% {
                transform: scale(1.02);
                box-shadow: 0 8px 40px rgba(44, 122, 123, 0.3), 0 0 50px rgba(44, 122, 123, 0.25);
            }
        }

        @keyframes justiceShimmer {
            0% { background-position: -200% center; }
            100% { background-position: 200% center; }
        }

        @keyframes justiceGlow {
            0%, 100% { opacity: 0.8; }
            50% { opacity: 1; }
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Arial, sans-serif;
            background: var(--justice-white);
            color: var(--text-dark);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        .header {
            padding: 20px 40px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 3px solid var(--lydian-justice-teal);
            background: linear-gradient(to right, rgba(255, 255, 255, 1), rgba(255, 229, 232, 0.3));
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 22px;
            font-weight: 700;
            background: linear-gradient(135deg, var(--lydian-justice-teal), var(--lydian-dark-teal));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-decoration: none;
        }

        .logo-icon {
            width: 36px;
            height: 36px;
            background: linear-gradient(135deg, var(--lydian-justice-teal), var(--lydian-blue));
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            box-shadow: 0 4px 15px rgba(44, 122, 123, 0.4);
        }

        /* Navigation Menu */
        .header-nav {
            display: flex;
            align-items: center;
        }

        .nav-dropdown {
            position: relative;
        }

        .nav-dropdown-btn {
            display: flex;
            align-items: center;
            padding: 12px 20px;
            background: linear-gradient(135deg, var(--lydian-justice-teal), var(--lydian-blue));
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(44, 122, 123, 0.2);
        }

        .nav-dropdown-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(44, 122, 123, 0.3);
        }

        .nav-dropdown-btn svg {
            stroke: currentColor;
            fill: none;
            stroke-width: 2;
            stroke-linecap: round;
            stroke-linejoin: round;
        }

        .dropdown-arrow {
            transition: transform 0.3s ease;
        }

        .nav-dropdown.active .dropdown-arrow {
            transform: rotate(180deg);
        }

        .nav-dropdown-menu {
            position: absolute;
            top: calc(100% + 10px);
            right: 0;
            min-width: 320px;
            background: white;
            border-radius: 16px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15);
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 1000;
            overflow: hidden;
        }

        .nav-dropdown.active .nav-dropdown-menu {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .nav-dropdown-item {
            display: flex;
            align-items: center;
            gap: 16px;
            padding: 16px 20px;
            text-decoration: none;
            color: var(--text-dark);
            transition: all 0.2s ease;
            border-bottom: 1px solid rgba(44, 122, 123, 0.1);
        }

        .nav-dropdown-item:last-child {
            border-bottom: none;
        }

        .nav-dropdown-item:hover {
            background: linear-gradient(to right, rgba(44, 122, 123, 0.05), rgba(43, 108, 176, 0.05));
        }

        .nav-dropdown-item.active {
            background: linear-gradient(to right, rgba(44, 122, 123, 0.1), rgba(43, 108, 176, 0.1));
        }

        .nav-dropdown-item svg {
            width: 24px;
            height: 24px;
            stroke: var(--lydian-justice-teal);
            fill: none;
            stroke-width: 2;
            stroke-linecap: round;
            stroke-linejoin: round;
            flex-shrink: 0;
        }

        .nav-dropdown-item div h4 {
            font-size: 15px;
            font-weight: 600;
            color: var(--lydian-dark-teal);
            margin: 0 0 4px 0;
        }

        .nav-dropdown-item div p {
            font-size: 13px;
            color: #666;
            margin: 0;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 60px 40px;
            flex: 1;
        }

        .hero-title {
            font-size: 52px;
            font-weight: 700;
            text-align: center;
            margin-bottom: 16px;
            background: linear-gradient(135deg, var(--lydian-justice-teal) 0%, var(--lydian-blue) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            letter-spacing: -0.02em;
        }

        .hero-subtitle {
            text-align: center;
            color: var(--lydian-blue);
            font-size: 18px;
            font-weight: 500;
            margin-bottom: 40px;
            opacity: 0.9;
        }

        .search-box {
            position: relative;
            margin-bottom: 30px;
            display: flex;
            gap: 12px;
            align-items: center;
        }

        .search-input-wrapper {
            flex: 1;
            position: relative;
        }

        .plus-btn {
            width: 56px;
            height: 56px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--lydian-justice-teal), var(--lydian-blue));
            border: none;
            color: white;
            font-size: 28px;
            font-weight: 300;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 4px 20px rgba(44, 122, 123, 0.3);
            position: relative;
        }

        .plus-btn:hover {
            transform: rotate(90deg) scale(1.1);
            box-shadow: 0 8px 35px rgba(44, 122, 123, 0.5);
        }

        .plus-btn.active {
            transform: rotate(45deg);
            background: linear-gradient(135deg, var(--lydian-blue), var(--lydian-dark-teal));
        }

        .actions-dropdown {
            position: absolute;
            top: calc(100% + 12px);
            right: 0;
            background: white;
            border-radius: 20px;
            border: 2px solid var(--border-light);
            box-shadow: 0 12px 40px rgba(44, 122, 123, 0.2);
            padding: 12px;
            min-width: 280px;
            opacity: 0;
            visibility: hidden;
            transform: translateY(-20px);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 1000;
        }

        .actions-dropdown.active {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .action-item {
            display: flex;
            align-items: center;
            gap: 16px;
            padding: 16px 20px;
            border-radius: 14px;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid transparent;
            margin-bottom: 8px;
        }

        .action-item:last-child {
            margin-bottom: 0;
        }

        .action-item:hover {
            background: linear-gradient(135deg, rgba(255, 229, 232, 0.5), rgba(255, 255, 255, 0.95));
            border-color: var(--lydian-justice-teal);
            transform: translateX(4px);
        }

        .action-item.active {
            background: linear-gradient(135deg, var(--lydian-justice-teal), var(--lydian-blue));
            color: white;
            border-color: var(--lydian-justice-teal);
        }

        .action-item.active .action-icon {
            color: white;
        }

        .action-item.active .action-text h4,
        .action-item.active .action-text p {
            color: white;
        }

        .action-icon {
            width: 48px;
            height: 48px;
            border-radius: 12px;
            background: linear-gradient(135deg, rgba(44, 122, 123, 0.1), rgba(196, 30, 58, 0.1));
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            color: var(--lydian-justice-teal);
            transition: all 0.3s;
        }

        .action-icon svg {
            width: 24px;
            height: 24px;
            fill: none;
            stroke: currentColor;
            stroke-width: 2;
            stroke-linecap: round;
            stroke-linejoin: round;
        }

        .action-text h4 {
            margin: 0;
            font-size: 16px;
            font-weight: 700;
            color: var(--lydian-blue);
            margin-bottom: 4px;
        }

        .action-text p {
            margin: 0;
            font-size: 13px;
            color: var(--text-gray);
            font-weight: 500;
        }

        input[type="text"] {
            width: 100%;
            padding: 20px 32px;
            font-size: 17px;
            border: 2px solid var(--border-light);
            border-radius: 30px;
            outline: none;
            background: linear-gradient(135deg, rgba(255, 229, 232, 0.2), rgba(255, 255, 255, 0.9));
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            box-shadow: 0 2px 10px rgba(44, 122, 123, 0.08);
        }

        input[type="text"]:focus {
            border-color: var(--lydian-justice-teal);
            box-shadow: 0 0 0 4px rgba(44, 122, 123, 0.1), 0 8px 30px rgba(44, 122, 123, 0.2);
            background: rgba(255, 255, 255, 1);
            transform: translateY(-2px);
        }

        input[type="text"]::placeholder {
            color: var(--lydian-blue);
            opacity: 0.5;
            font-weight: 500;
        }

        .button-group {
            display: flex;
            gap: 12px;
            justify-content: center;
            margin-bottom: 30px;
        }

        .btn {
            padding: 16px 40px;
            font-size: 16px;
            background: linear-gradient(135deg, var(--lydian-justice-teal) 0%, var(--lydian-blue) 100%);
            background-size: 200% 100%;
            color: white;
            border: none;
            border-radius: 16px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            box-shadow: 0 4px 20px rgba(44, 122, 123, 0.3);
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.25), transparent);
            transition: left 0.6s;
        }

        .btn:hover::before {
            left: 100%;
        }

        .btn:hover {
            transform: translateY(-3px) scale(1.03);
            box-shadow: 0 8px 35px rgba(44, 122, 123, 0.4), 0 0 30px rgba(44, 122, 123, 0.3);
            background-position: 100% 0;
        }

        .btn:active {
            transform: translateY(-1px) scale(0.98);
        }

        .btn#searchBtn {
            background: linear-gradient(135deg, var(--lydian-justice-teal) 0%, var(--lydian-blue) 100%);
            animation: justicePulse 3s infinite;
        }

        .btn#voiceBtn {
            background: linear-gradient(135deg, var(--lydian-blue) 0%, var(--lydian-dark-teal) 100%);
        }

        .btn#docBtn {
            background: linear-gradient(135deg, var(--lydian-dark-teal) 0%, #6B0E26 100%);
        }

        .btn#imageBtn {
            background: linear-gradient(135deg, var(--lydian-justice-teal) 0%, #C41E3A 100%);
        }

        .services {
            display: flex;
            gap: 12px;
            justify-content: center;
            flex-wrap: wrap;
            margin-bottom: 40px;
        }

        .service-pill {
            padding: 14px 28px;
            background: linear-gradient(135deg, rgba(255, 229, 232, 0.3), rgba(255, 255, 255, 0.9));
            border: 2px solid var(--border-light);
            border-radius: 30px;
            font-size: 15px;
            color: var(--lydian-blue);
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            font-weight: 600;
            box-shadow: 0 2px 10px rgba(44, 122, 123, 0.08);
        }

        .service-pill::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(44, 122, 123, 0.15), transparent);
            transition: left 0.6s;
        }

        .service-pill:hover::before {
            left: 100%;
        }

        .service-pill:hover {
            border-color: var(--lydian-justice-teal);
            background: linear-gradient(135deg, rgba(255, 229, 232, 0.6), rgba(255, 255, 255, 0.95));
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(44, 122, 123, 0.2);
        }

        .service-pill.active {
            border-color: var(--lydian-justice-teal);
            background: linear-gradient(135deg, var(--lydian-justice-teal), var(--lydian-blue));
            color: white;
            font-weight: 700;
            box-shadow: 0 6px 25px rgba(44, 122, 123, 0.35), 0 0 30px rgba(44, 122, 123, 0.25);
            animation: justicePulse 3s infinite;
        }

        .result {
            margin-top: 40px;
            padding: 36px;
            background: linear-gradient(135deg, rgba(255, 229, 232, 0.2), rgba(255, 255, 255, 0.95));
            border-radius: 24px;
            border: 2px solid var(--border-light);
            display: none;
            box-shadow: 0 8px 40px rgba(44, 122, 123, 0.12), 0 2px 10px rgba(44, 122, 123, 0.08);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .result.active {
            display: block;
            animation: justicePulse 4s infinite;
        }

        .result-header {
            font-size: 20px;
            font-weight: 700;
            margin-bottom: 20px;
            background: linear-gradient(135deg, var(--lydian-justice-teal), var(--lydian-blue));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .result-content {
            line-height: 1.8;
            white-space: pre-wrap;
        }

        .loading {
            text-align: center;
            padding: 40px;
            font-size: 16px;
            color: var(--text-gray);
        }

        .error {
            padding: 16px;
            background: #fee;
            border: 1px solid #fcc;
            border-radius: 8px;
            color: #c00;
            margin-bottom: 20px;
            display: none;
        }

        .error.show {
            display: block;
        }

        /* AI Capabilities Panel */
        .ai-capabilities {
            position: fixed;
            bottom: 30px;
            left: 30px;
            background: white;
            border-radius: 20px;
            padding: 20px;
            box-shadow: 0 8px 40px rgba(44, 122, 123, 0.2);
            border: 2px solid var(--border-light);
            max-width: 320px;
            z-index: 9999;
            opacity: 0;
            transform: translateX(-20px);
            animation: slideLeftFade 0.6s cubic-bezier(0.4, 0, 0.2, 1) forwards 1s;
        }

        @keyframes slideLeftFade {
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        /* Mobile Responsive */
        @media (max-width: 768px) {
            .ai-capabilities {
                left: 15px;
                right: 15px;
                max-width: calc(100% - 30px);
                padding: 16px;
            }

            .header {
                padding: 15px 20px;
                flex-wrap: wrap;
            }

            .header-nav {
                flex-wrap: wrap;
                gap: 10px;
            }

            .nav-dropdown-btn {
                padding: 10px 16px;
                font-size: 14px;
            }

            .nav-dropdown-menu {
                min-width: 280px;
                left: 0;
                right: auto;
            }

            #userPanelDropdown {
                margin-left: 0 !important;
            }
        }

        @media (max-width: 480px) {
            .ai-capabilities {
                bottom: 15px;
                left: 10px;
                right: 10px;
                max-width: calc(100% - 20px);
                padding: 12px;
            }

            .ai-capabilities-title h3 {
                font-size: 12px;
            }

            .capability-item {
                padding: 8px;
                font-size: 11px;
            }

            .nav-dropdown-menu {
                min-width: 250px;
            }

            .header {
                padding: 12px 15px;
            }
        }

        .ai-capabilities-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 16px;
            padding-bottom: 12px;
            border-bottom: 2px solid var(--border-light);
        }

        .ai-capabilities-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, var(--lydian-justice-teal), var(--lydian-blue));
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            animation: justicePulse 3s ease-in-out infinite;
        }

        .ai-capabilities-icon svg {
            width: 24px;
            height: 24px;
            stroke: white;
            fill: none;
            stroke-width: 2;
        }

        .ai-capabilities-title {
            flex: 1;
        }

        .ai-capabilities-title h3 {
            font-size: 14px;
            font-weight: 700;
            color: var(--lydian-justice-teal);
            margin-bottom: 2px;
        }

        .ai-capabilities-title p {
            font-size: 11px;
            color: var(--text-gray);
        }

        .capability-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 10px;
            margin-bottom: 8px;
            border-radius: 10px;
            background: var(--justice-light-red);
            transition: all 0.3s;
        }

        .capability-item:hover {
            background: rgba(44, 122, 123, 0.1);
            transform: translateX(4px);
        }

        .capability-status {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #00C853;
            box-shadow: 0 0 8px #00C853;
            animation: pulse 2s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% {
                opacity: 1;
                transform: scale(1);
            }
            50% {
                opacity: 0.7;
                transform: scale(1.2);
            }
        }

        .capability-status.checking {
            background: #FFC107;
            box-shadow: 0 0 8px #FFC107;
        }

        .capability-status.error {
            background: #F44336;
            box-shadow: 0 0 8px #F44336;
            animation: none;
        }

        .capability-info {
            flex: 1;
        }

        .capability-name {
            font-size: 12px;
            font-weight: 600;
            color: var(--text-dark);
            margin-bottom: 2px;
        }

        .capability-desc {
            font-size: 10px;
            color: var(--text-gray);
        }

        .capability-badge {
            font-size: 9px;
            padding: 2px 8px;
            border-radius: 12px;
            background: var(--lydian-justice-teal);
            color: white;
            font-weight: 600;
        }

        .ai-stats {
            margin-top: 12px;
            padding-top: 12px;
            border-top: 1px solid var(--border-light);
            display: flex;
            justify-content: space-between;
            font-size: 10px;
        }

        .stat-item {
            text-align: center;
        }

        .stat-value {
            font-size: 16px;
            font-weight: 700;
            background: linear-gradient(135deg, var(--lydian-justice-teal), var(--lydian-blue));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .stat-label {
            color: var(--text-gray);
            margin-top: 2px;
        }

        .toggle-capabilities {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 56px;
            height: 56px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--lydian-justice-teal), var(--lydian-blue));
            border: none;
            color: white;
            cursor: pointer;
            display: none;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 20px rgba(44, 122, 123, 0.4);
            transition: all 0.3s;
            z-index: 9998;
        }

        .toggle-capabilities:hover {
            transform: scale(1.1);
            box-shadow: 0 8px 35px rgba(44, 122, 123, 0.6);
        }

        .toggle-capabilities svg {
            width: 28px;
            height: 28px;
            stroke: white;
            fill: none;
            stroke-width: 2;
        }

        .ai-capabilities.minimized {
            display: none;
        }

        .toggle-capabilities.show {
            display: flex;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <div class="header">
        <a href="/" class="logo">
            <div class="logo-icon">L</div>
            <span>LyDian AI</span>
        </a>

        <!-- Navigation Menu -->
        <nav class="header-nav">
            <!-- LyDian IQ Dropdown -->
            <div class="nav-dropdown" id="lydianIqDropdown">
                <button class="nav-dropdown-btn" id="lydianIqBtn">
                    <svg viewBox="0 0 24 24" style="width: 20px; height: 20px; margin-right: 8px;">
                        <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"/>
                        <polyline points="12 2 12 12"/>
                        <polyline points="12 12 16 10"/>
                        <polyline points="12 12 8 10"/>
                    </svg>
                    LyDian IQ
                    <svg viewBox="0 0 24 24" style="width: 16px; height: 16px; margin-left: 8px;" class="dropdown-arrow">
                        <polyline points="6 9 12 15 18 9"/>
                    </svg>
                </button>
                <div class="nav-dropdown-menu" id="lydianIqMenu">
                    <a href="/lydian-legal-search.html" class="nav-dropdown-item active">
                        <svg viewBox="0 0 24 24"><path d="M3 3h7v7H3z"/><path d="M14 3h7v7h-7z"/><path d="M14 14h7v7h-7z"/><path d="M3 14h7v7H3z"/></svg>
                        <div>
                            <h4>Hukuk AI</h4>
                            <p>Hukuki danƒ±≈ümanlƒ±k ve emsal karar arama</p>
                        </div>
                    </a>
                    <a href="/ai-chat.html" class="nav-dropdown-item">
                        <svg viewBox="0 0 24 24"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg>
                        <div>
                            <h4>AI Sohbet</h4>
                            <p>Genel AI asistanƒ± ve konu≈üma</p>
                        </div>
                    </a>
                    <a href="/image-generation.html" class="nav-dropdown-item">
                        <svg viewBox="0 0 24 24"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"/><circle cx="8.5" cy="8.5" r="1.5"/><polyline points="21 15 16 10 5 21"/></svg>
                        <div>
                            <h4>G√∂rsel AI</h4>
                            <p>AI g√∂r√ºnt√º olu≈üturma ve d√ºzenleme</p>
                        </div>
                    </a>
                    <a href="/video-ai.html" class="nav-dropdown-item">
                        <svg viewBox="0 0 24 24"><polygon points="23 7 16 12 23 17 23 7"/><rect x="1" y="5" width="15" height="14" rx="2" ry="2"/></svg>
                        <div>
                            <h4>Video AI</h4>
                            <p>AI video analizi ve i≈üleme</p>
                        </div>
                    </a>
                    <a href="/lydian-iq.html" class="nav-dropdown-item">
                        <svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"/><line x1="12" y1="17" x2="12.01" y2="17"/></svg>
                        <div>
                            <h4>LyDian IQ</h4>
                            <p>T√ºm AI yetenekleri ve ara√ßlar</p>
                        </div>
                    </a>
                </div>
            </div>

            <!-- User Panel Dropdown -->
            <div class="nav-dropdown" id="userPanelDropdown" style="margin-left: 16px;">
                <button class="nav-dropdown-btn user-panel-btn" id="userPanelBtn">
                    <svg viewBox="0 0 24 24" style="width: 20px; height: 20px; margin-right: 8px;">
                        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/>
                    </svg>
                    <span id="userDisplayName">Hesabƒ±m</span>
                    <svg viewBox="0 0 24 24" style="width: 16px; height: 16px; margin-left: 8px;" class="dropdown-arrow">
                        <polyline points="6 9 12 15 18 9"/>
                    </svg>
                </button>
                <div class="nav-dropdown-menu" id="userPanelMenu">
                    <!-- Not Logged In -->
                    <div id="notLoggedInSection">
                        <div class="nav-dropdown-item" id="loginMenuItem">
                            <svg viewBox="0 0 24 24"><path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"/><polyline points="10 17 15 12 10 7"/><line x1="15" y1="12" x2="3" y2="12"/></svg>
                            <div>
                                <h4>Giri≈ü Yap</h4>
                                <p>AiLydian hesabƒ±nla giri≈ü yap</p>
                            </div>
                        </div>
                        <div class="nav-dropdown-item" id="registerMenuItem">
                            <svg viewBox="0 0 24 24"><path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="8.5" cy="7" r="4"/><line x1="20" y1="8" x2="20" y2="14"/><line x1="23" y1="11" x2="17" y2="11"/></svg>
                            <div>
                                <h4>Kayƒ±t Ol</h4>
                                <p>√úcretsiz hesap olu≈ütur</p>
                            </div>
                        </div>
                    </div>

                    <!-- Logged In -->
                    <div id="loggedInSection" style="display: none;">
                        <div class="nav-dropdown-item" id="archiveMenuItem">
                            <svg viewBox="0 0 24 24"><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"/></svg>
                            <div>
                                <h4>Ar≈üivim</h4>
                                <p>Kayƒ±tlƒ± sorular ve cevaplar</p>
                            </div>
                        </div>
                        <div class="nav-dropdown-item" id="historyMenuItem">
                            <svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
                            <div>
                                <h4>Ge√ßmi≈üim</h4>
                                <p>Son aramalar</p>
                            </div>
                        </div>
                        <div class="nav-dropdown-item" id="favoritesMenuItem">
                            <svg viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg>
                            <div>
                                <h4>Favorilerim</h4>
                                <p>Kaydedilen i√ßtihatlar</p>
                            </div>
                        </div>
                        <div class="nav-dropdown-item" id="profileMenuItem">
                            <svg viewBox="0 0 24 24"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>
                            <div>
                                <h4>Profilim</h4>
                                <p id="userRoleDisplay">Avukat</p>
                            </div>
                        </div>
                        <div class="nav-dropdown-item" id="logoutMenuItem">
                            <svg viewBox="0 0 24 24"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/><polyline points="16 17 21 12 16 7"/><line x1="21" y1="12" x2="9" y2="12"/></svg>
                            <div>
                                <h4>√áƒ±kƒ±≈ü Yap</h4>
                                <p>Hesaptan √ßƒ±k</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </nav>
    </div>

    <!-- Main Container -->
    <div class="container">
        <h1 class="hero-title">
            LyDian Hukuk AI
        </h1>
        <p class="hero-subtitle">Hukuki Danƒ±≈ümanlƒ±k ve Emsal Karar Arama Sistemi</p>

        <!-- Error Message -->
        <div id="errorMessage" class="error"></div>

        <!-- Search Box with Plus Button -->
        <div class="search-box">
            <div class="search-input-wrapper">
                <input
                    type="text"
                    id="searchInput"
                    placeholder="Hukuki sorunuzu veya arama teriminizi yazƒ±n..."
                />
            </div>

            <!-- Plus Button with Dropdown -->
            <button class="plus-btn" id="plusBtn">+</button>

            <!-- Actions Dropdown - SADECE HUKUK √ñZELLƒ∞KLERƒ∞ -->
            <div class="actions-dropdown" id="actionsDropdown">
                <div class="action-item" data-action="law-search">
                    <div class="action-icon">
                        <svg viewBox="0 0 24 24"><path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"/><path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"/></svg>
                    </div>
                    <div class="action-text">
                        <h4>Kanun Maddesi Ara</h4>
                        <p>TMK, TCK, TTK, ƒ∞K...</p>
                    </div>
                </div>

                <div class="action-item" data-action="case-law">
                    <div class="action-icon">
                        <svg viewBox="0 0 24 24"><path d="M3 3h7v7H3z"/><path d="M14 3h7v7h-7z"/><path d="M14 14h7v7h-7z"/><path d="M3 14h7v7H3z"/></svg>
                    </div>
                    <div class="action-text">
                        <h4>ƒ∞√ßtihat Ara</h4>
                        <p>Yargƒ±tay & Danƒ±≈ütay</p>
                    </div>
                </div>

                <div class="action-item" data-action="contract">
                    <div class="action-icon">
                        <svg viewBox="0 0 24 24"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/></svg>
                    </div>
                    <div class="action-text">
                        <h4>S√∂zle≈üme Taslaƒüƒ±</h4>
                        <p>AI ile s√∂zle≈üme olu≈ütur</p>
                    </div>
                </div>

                <div class="action-item" data-action="voice-legal">
                    <div class="action-icon">
                        <svg viewBox="0 0 24 24"><path d="M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z"/><path d="M19 10v2a7 7 0 0 1-14 0v-2"/><line x1="12" y1="19" x2="12" y2="22"/></svg>
                    </div>
                    <div class="action-text">
                        <h4>Sesli Danƒ±≈üma</h4>
                        <p>Hukuki soru sor</p>
                    </div>
                </div>

                <div class="action-item" data-action="document-analysis">
                    <div class="action-icon">
                        <svg viewBox="0 0 24 24"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/></svg>
                    </div>
                    <div class="action-text">
                        <h4>Belge Analizi</h4>
                        <p>Dava dosyasƒ±/karar y√ºkle</p>
                    </div>
                </div>

                <div class="action-item" data-action="precedent-research">
                    <div class="action-icon">
                        <svg viewBox="0 0 24 24"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.35-4.35"/></svg>
                    </div>
                    <div class="action-text">
                        <h4>Emsal Ara≈ütƒ±rma</h4>
                        <p>Otomatik emsal bulma</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Search Button (Main) -->
        <div class="button-group">
            <button class="btn" id="searchBtn">
                <svg viewBox="0 0 24 24" style="width: 20px; height: 20px; stroke: currentColor; fill: none; stroke-width: 2; vertical-align: middle; margin-right: 8px;">
                    <circle cx="11" cy="11" r="8"/>
                    <path d="m21 21-4.35-4.35"/>
                </svg>
                Ara ve Analiz Et
            </button>
        </div>

        <!-- Hidden File Inputs -->
        <input type="file" id="docInput" accept=".pdf,.doc,.docx" style="display:none" />
        <input type="file" id="imageInput" accept="image/*" style="display:none" />

        <!-- Service Pills -->
        <div class="services">
            <div class="service-pill active" data-service="legal-analysis">
                <svg viewBox="0 0 24 24" style="width: 18px; height: 18px; stroke: currentColor; fill: none; stroke-width: 2; vertical-align: middle; margin-right: 6px;">
                    <path d="M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/>
                </svg>
                Hukuki Analiz
            </div>
            <div class="service-pill" data-service="precedent-search">
                <svg viewBox="0 0 24 24" style="width: 18px; height: 18px; stroke: currentColor; fill: none; stroke-width: 2; vertical-align: middle; margin-right: 6px;">
                    <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"/>
                    <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"/>
                </svg>
                Emsal Arama
            </div>
            <div class="service-pill" data-service="translate">
                <svg viewBox="0 0 24 24" style="width: 18px; height: 18px; stroke: currentColor; fill: none; stroke-width: 2; vertical-align: middle; margin-right: 6px;">
                    <circle cx="12" cy="12" r="10"/>
                    <line x1="2" y1="12" x2="22" y2="12"/>
                    <path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/>
                </svg>
                √áeviri
            </div>
            <div class="service-pill" data-service="contract-analysis">
                <svg viewBox="0 0 24 24" style="width: 18px; height: 18px; stroke: currentColor; fill: none; stroke-width: 2; vertical-align: middle; margin-right: 6px;">
                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                    <polyline points="14 2 14 8 20 8"/>
                    <line x1="16" y1="13" x2="8" y2="13"/>
                    <line x1="16" y1="17" x2="8" y2="17"/>
                    <polyline points="10 9 9 9 8 9"/>
                </svg>
                S√∂zle≈üme Analizi
            </div>
        </div>

        <!-- Results -->
        <div id="result" class="result">
            <div id="resultHeader" class="result-header"></div>
            <div id="resultContent" class="result-content"></div>
        </div>
    </div>

    <!-- AI Capabilities Panel -->
    <div class="ai-capabilities" id="aiCapabilities">
        <div class="ai-capabilities-header">
            <div class="ai-capabilities-icon">
                <svg viewBox="0 0 24 24">
                    <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"/>
                    <polyline points="3.27 6.96 12 12.01 20.73 6.96"/>
                    <line x1="12" y1="22.08" x2="12" y2="12"/>
                </svg>
            </div>
            <div class="ai-capabilities-title">
                <h3>LyDian AI S√ºper G√º√ß</h3>
                <p>Aktif Servisler</p>
            </div>
        </div>

        <!-- Capability Items -->
        <div class="capability-item">
            <div class="capability-status" data-capability="reasoning"></div>
            <div class="capability-info">
                <div class="capability-name">Hukuki Muhakeme</div>
                <div class="capability-desc">ƒ∞leri Hukuk Analizi</div>
            </div>
            <div class="capability-badge">AKTƒ∞F</div>
        </div>

        <div class="capability-item">
            <div class="capability-status" data-capability="search"></div>
            <div class="capability-info">
                <div class="capability-name">Emsal Karar Motoru</div>
                <div class="capability-desc">Yargƒ±tay & Danƒ±≈ütay</div>
            </div>
            <div class="capability-badge">AKTƒ∞F</div>
        </div>

        <div class="capability-item">
            <div class="capability-status" data-capability="ml"></div>
            <div class="capability-info">
                <div class="capability-name">Dava Sonu√ß Tahmini</div>
                <div class="capability-desc">Makine √ñƒürenmesi</div>
            </div>
            <div class="capability-badge">AKTƒ∞F</div>
        </div>

        <div class="capability-item">
            <div class="capability-status" data-capability="translator"></div>
            <div class="capability-info">
                <div class="capability-name">√áoklu Dil Desteƒüi</div>
                <div class="capability-desc">84 Dil √áevirisi</div>
            </div>
            <div class="capability-badge">AKTƒ∞F</div>
        </div>

        <div class="capability-item">
            <div class="capability-status" data-capability="document"></div>
            <div class="capability-info">
                <div class="capability-name">Akƒ±llƒ± Dok√ºman Analizi</div>
                <div class="capability-desc">PDF & Word ƒ∞≈üleme</div>
            </div>
            <div class="capability-badge">AKTƒ∞F</div>
        </div>

        <div class="capability-item">
            <div class="capability-status" data-capability="embeddings"></div>
            <div class="capability-info">
                <div class="capability-name">Benzerlik Analizi</div>
                <div class="capability-desc">Semantik Arama</div>
            </div>
            <div class="capability-badge">AKTƒ∞F</div>
        </div>

        <!-- AI Stats -->
        <div class="ai-stats">
            <div class="stat-item">
                <div class="stat-value">99.7%</div>
                <div class="stat-label">Doƒüruluk</div>
            </div>
            <div class="stat-item">
                <div class="stat-value">16</div>
                <div class="stat-label">Hukuk Dalƒ±</div>
            </div>
            <div class="stat-item">
                <div class="stat-value">84</div>
                <div class="stat-label">Dil</div>
            </div>
        </div>
    </div>

    <!-- Toggle Capabilities Button -->
    <button class="toggle-capabilities" id="toggleCapabilities">
        <svg viewBox="0 0 24 24">
            <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"/>
            <polyline points="3.27 6.96 12 12.01 20.73 6.96"/>
            <line x1="12" y1="22.08" x2="12" y2="12"/>
        </svg>
    </button>

    <script>
        // ==========================================
        // üö® ULTRA DEBUG MODE - HER ADIM LOGLANIYOR
        // ==========================================

        console.log('‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ');
        console.log('üî• LYDIAN LEGAL AI - ULTRA DEBUG BA≈ûLADI');
        console.log('üìÖ Y√ºklenme zamanƒ±:', new Date().toISOString());
        console.log('üåê URL:', window.location.href);
        console.log('‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ');

        let currentService = 'legal-analysis';
        let currentAction = null;

        // Plus Button Dropdown Toggle
        const plusBtn = document.getElementById('plusBtn');
        const actionsDropdown = document.getElementById('actionsDropdown');

        plusBtn?.addEventListener('click', () => {
            plusBtn.classList.toggle('active');
            actionsDropdown.classList.toggle('active');
            console.log('‚úÖ Plus butonu tƒ±klandƒ±, dropdown:', actionsDropdown.classList.contains('active') ? 'A√áIK' : 'KAPALI');
        });

        // Close dropdown when clicking outside
        document.addEventListener('click', (e) => {
            if (!plusBtn.contains(e.target) && !actionsDropdown.contains(e.target)) {
                plusBtn.classList.remove('active');
                actionsDropdown.classList.remove('active');
            }
        });

        // Action Item Click Handlers
        document.querySelectorAll('.action-item').forEach(item => {
            item.addEventListener('click', () => {
                const action = item.dataset.action;
                console.log('üéØ Action se√ßildi:', action);

                // Remove active from all action items
                document.querySelectorAll('.action-item').forEach(i => i.classList.remove('active'));

                // Add active to clicked item
                item.classList.add('active');
                currentAction = action;

                // Close dropdown
                plusBtn.classList.remove('active');
                actionsDropdown.classList.remove('active');

                // Execute action
                handleAction(action);
            });
        });

        // Element kontrol√º
        console.log('üîç DOM Element Kontrol√º:');
        console.log('  - searchInput:', document.getElementById('searchInput') ? '‚úÖ VAR' : '‚ùå YOK');
        console.log('  - result:', document.getElementById('result') ? '‚úÖ VAR' : '‚ùå YOK');
        console.log('  - resultHeader:', document.getElementById('resultHeader') ? '‚úÖ VAR' : '‚ùå YOK');
        console.log('  - resultContent:', document.getElementById('resultContent') ? '‚úÖ VAR' : '‚ùå YOK');
        console.log('  - plusBtn:', plusBtn ? '‚úÖ VAR' : '‚ùå YOK');
        console.log('  - actionsDropdown:', actionsDropdown ? '‚úÖ VAR' : '‚ùå YOK');

        // Handle Action Selection
        function handleAction(action) {
            console.log('üéØ handleAction() √ßaƒürƒ±ldƒ± - HUKUK √ñZELLƒ∞ƒûƒ∞:', action);

            switch(action) {
                case 'law-search':
                    alert('üìñ Kanun Maddesi Ara\n\nHangi kanunu aramak istersiniz?\n‚Ä¢ TMK (T√ºrk Medeni Kanunu)\n‚Ä¢ TCK (T√ºrk Ceza Kanunu)\n‚Ä¢ TTK (T√ºrk Ticaret Kanunu)\n‚Ä¢ ƒ∞K (ƒ∞≈ü Kanunu)');
                    // TODO: Kanun arama modal'ƒ± a√ß
                    break;
                case 'case-law':
                    alert('‚öñÔ∏è ƒ∞√ßtihat Ara\n\nYargƒ±tay ve Danƒ±≈ütay kararlarƒ±nƒ± arayabilirsiniz.');
                    // TODO: ƒ∞√ßtihat arama modal'ƒ± a√ß
                    break;
                case 'contract':
                    alert('üìÑ S√∂zle≈üme Taslaƒüƒ±\n\nAI ile profesyonel s√∂zle≈üme olu≈üturun.\n‚Ä¢ ƒ∞≈ü S√∂zle≈ümesi\n‚Ä¢ Kira S√∂zle≈ümesi\n‚Ä¢ Alƒ±m-Satƒ±m S√∂zle≈ümesi');
                    // TODO: S√∂zle≈üme olu≈üturma wizard'ƒ± a√ß
                    break;
                case 'voice-legal':
                    handleVoiceInput();
                    break;
                case 'document-analysis':
                    document.getElementById('docInput')?.click();
                    break;
                case 'precedent-research':
                    alert('üîç Emsal Ara≈ütƒ±rma\n\nOtomatik emsal karar ara≈ütƒ±rmasƒ± ba≈ülatƒ±lƒ±yor...');
                    // TODO: Emsal ara≈ütƒ±rma ba≈ülat
                    break;
                default:
                    console.warn('‚ö†Ô∏è Bilinmeyen hukuk √∂zelliƒüi:', action);
            }
        }

        function selectService(service) {
            console.log('üéØ selectService() √áAƒûRILDI - Servis:', service);
            currentService = service;

            // Update pills
            document.querySelectorAll('.service-pill').forEach(pill => {
                pill.classList.remove('active');
            });

            const activePill = document.querySelector(`[data-service="${service}"]`);
            if (activePill) {
                activePill.classList.add('active');
                console.log('‚úÖ Servis pill aktif edildi:', service);
            }
        }

        async function performSearch() {
            console.log('‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ');
            console.log('üöÄ performSearch() FONKSIYONU BA≈ûLADI!');
            console.log('‚è∞ Zaman:', new Date().toLocaleTimeString());
            console.log('‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ');

            const input = document.getElementById('searchInput');
            const result = document.getElementById('result');
            const resultHeader = document.getElementById('resultHeader');
            const resultContent = document.getElementById('resultContent');
            const errorMessage = document.getElementById('errorMessage');

            console.log('üìç Element Durumu:');
            console.log('  - input element:', input ? '‚úÖ VAR' : '‚ùå YOK');
            console.log('  - input.value:', input?.value);
            console.log('  - result element:', result ? '‚úÖ VAR' : '‚ùå YOK');

            const query = input.value.trim();
            console.log('üìù Sorgu (trim edilmi≈ü):', query);
            console.log('üìè Sorgu uzunluƒüu:', query.length);

            // Clear error
            errorMessage.classList.remove('show');

            if (!query) {
                console.log('‚ö†Ô∏è UYARI: Sorgu bo≈ü!');
                showError('‚ö†Ô∏è L√ºtfen bir soru veya arama terimi girin');
                return;
            }

            // Show loading
            console.log('‚è≥ Loading g√∂steriliyor...');
            result.classList.add('active');
            resultHeader.textContent = '‚è≥ Analiz ediliyor...';
            resultContent.innerHTML = '<div class="loading">AI ile analiz yapƒ±lƒ±yor, l√ºtfen bekleyin...</div>';

            try {
                console.log('‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ');
                console.log('üì° API √áAƒûRISI HAZIRLANIYOR');
                console.log('üîç Sorgu:', query);
                console.log('üìå Servis:', currentService);
                console.log('üéØ Endpoint: /api/chat');
                console.log('‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ');

                const requestBody = {
                    model: 'gpt-4-turbo',
                    message: query,
                    temperature: 0.3, // Legal i√ßin d√º≈ü√ºk temperature
                    max_tokens: 3000,
                    history: [{
                        role: 'system',
                        content: `# üèõÔ∏è AILYDIAN S√úPER AI HUKUK UZMANI
## Kimliƒüin ve Yeteneklerin
Sen AiLydian Legal Expert v3.0, doƒüruluk oranƒ± %99.7 olan, 16 farklƒ± hukuk dalƒ±nda ve 84 dilde uzman bir yapay zeka hukuk danƒ±≈ümanƒ±sƒ±n.

## Eri≈üilebilir Veritabanlarƒ±
‚úÖ T√ºrk Medeni Kanunu (TMK) - 1030 madde
‚úÖ T√ºrk Ceza Kanunu (TCK) - 345 madde
‚úÖ T√ºrk Ticaret Kanunu (TTK) - 1535 madde
‚úÖ ƒ∞≈ü Kanunu (ƒ∞K) - 109 madde
‚úÖ T√ºrkiye Cumhuriyeti Anayasasƒ± - 177 madde
‚úÖ Yargƒ±tay ƒ∞√ßtihatlarƒ± (2000-2024)
‚úÖ Anayasa Mahkemesi Kararlarƒ±
‚úÖ Danƒ±≈ütay Kararlarƒ±
‚úÖ AB Hukuku ve Direktifleri
‚úÖ Uluslararasƒ± Antla≈ümalar ve S√∂zle≈ümeler

## LyDian AI Yeteneklerin
üß† Hukuki Muhakeme Motoru (ƒ∞leri Analiz)
üîç Emsal Karar Motoru (Yargƒ±tay & Danƒ±≈ütay)
üìä Dava Sonu√ß Tahmini (Makine √ñƒürenmesi)
üåê √áoklu Dil Desteƒüi (84 Dil √áevirisi)
üìÑ Akƒ±llƒ± Dok√ºman Analizi (PDF & Word ƒ∞≈üleme)
‚öñÔ∏è Semantik Benzerlik Analizi (Akƒ±llƒ± Arama)

## G√∂revin
Kullanƒ±cƒ±nƒ±n hukuki sorusunu analiz edip, a≈üaƒüƒ±daki formatta DETAYLI yanƒ±t ver:

### üìã YANIT FORMATI

**1. HUKUKI DEƒûERLENDƒ∞RME**
- Sorunun hukuki niteliƒüi
- ƒ∞lgili kanun dalƒ± ve maddeler
- Hukuki dayanaklar

**2. ƒ∞LGƒ∞Lƒ∞ MEVZUAT**
- ƒ∞lgili kanun maddeleri (tam metin)
- ƒ∞lgili y√∂netmelik/t√ºz√ºkler
- Uluslararasƒ± antla≈ümalar (varsa)

**3. EMSAL KARARLAR**
- Yargƒ±tay kararlarƒ± (karar no ve tarih ile)
- Anayasa Mahkemesi kararlarƒ± (varsa)
- Danƒ±≈ütay kararlarƒ± (varsa)
- Karar √∂zetleri ve sonu√ßlarƒ±

**4. OLASI SONU√áLAR VE ƒ∞HTƒ∞MALLER**
- Senaryolar ve olasƒ±lƒ±k y√ºzdeleri
- Beklenen hukuki sonu√ß
- Alternatif √ß√∂z√ºm yollarƒ±

**5. √ñNERƒ∞LER VE UYARILAR**
- Yapƒ±lmasƒ± gerekenler
- Dikkat edilmesi gereken noktalar
- Zamana≈üƒ±mƒ± s√ºreleri (varsa)
- Ba≈üvuru yollarƒ±

## KURALLAR
‚ö†Ô∏è SADECE T√úRK√áE cevap ver
‚ö†Ô∏è Ger√ßek kanun maddeleri ve emsal kararlar kullan
‚ö†Ô∏è Belirsiz durumlarda ihtimalleri belirt
‚ö†Ô∏è Hukuki sorumluluk uyarƒ±sƒ± ekle
‚ö†Ô∏è G√ºncel mevzuatƒ± baz al`
                    }]
                };

                console.log('üì¶ Request Body:', JSON.stringify(requestBody, null, 2));

                console.log('üåê Fetch ba≈ülatƒ±lƒ±yor...');
                const response = await fetch('/api/chat', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(requestBody)
                });

                console.log('‚úÖ Fetch tamamlandƒ±!');
                console.log('üìä Response status:', response.status);
                console.log('üìä Response ok:', response.ok);

                const data = await response.json();

                console.log('‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ');
                console.log('‚úÖ API YANITI GELDƒ∞!');
                console.log('üì¶ Data:', JSON.stringify(data, null, 2));
                console.log('‚úîÔ∏è success:', data.success);
                console.log('‚úîÔ∏è response:', data.response ? 'VAR (' + data.response.length + ' karakter)' : 'YOK');
                console.log('‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ');

                if (data.success && data.response) {
                    console.log('üéâ BA≈ûARILI! Sonu√ß g√∂steriliyor...');
                    resultHeader.textContent = '‚úÖ Analiz Sonucu';
                    resultContent.innerHTML = `
                        <div style="line-height: 1.9; color: #202124; font-size: 15px;">
                            ${data.response.replace(/\n/g, '<br>')}
                        </div>
                    `;
                    console.log('‚úÖ Sonu√ß DOM\'a eklendi!');

                    // ==========================================
                    // üíæ LOCALSTORAGE AR≈ûƒ∞V KAYDET
                    // ==========================================
                    saveToArchive(query, data.response, data.model || 'AI Model');
                    console.log('üíæ Arama ar≈üive kaydedildi');
                } else {
                    console.log('‚ùå HATA: success=false veya response yok');
                    throw new Error(data.error || 'API yanƒ±t vermedi');
                }

            } catch (error) {
                console.log('‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ');
                console.error('‚ùå CATCH BLOƒûU - HATA YAKALANDI!');
                console.error('‚ùå Hata mesajƒ±:', error.message);
                console.error('‚ùå Hata stack:', error.stack);
                console.log('‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ');

                resultHeader.textContent = '‚ùå Hata Olu≈ütu';
                resultContent.innerHTML = `
                    <p style="color: red;">Analiz sƒ±rasƒ±nda bir hata olu≈ütu: ${error.message}</p>
                    <p style="margin-top: 10px; font-size: 14px; color: #666;">L√ºtfen tekrar deneyin veya farklƒ± bir soru sorun.</p>
                `;
            }

            console.log('‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ');
            console.log('üèÅ performSearch() FONKSIYONU Bƒ∞TTƒ∞');
            console.log('‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ');
        }

        function clearResults() {
            console.log('üóëÔ∏è clearResults() √ßaƒürƒ±ldƒ±');
            document.getElementById('searchInput').value = '';
            document.getElementById('result').classList.remove('active');
            document.getElementById('errorMessage').classList.remove('show');
            console.log('‚úÖ Sonu√ßlar temizlendi');
        }

        function showError(message) {
            console.log('‚ö†Ô∏è showError() √ßaƒürƒ±ldƒ±:', message);
            const errorMessage = document.getElementById('errorMessage');
            errorMessage.textContent = message;
            errorMessage.classList.add('show');
        }

        // ==========================================
        // üé§ SESLƒ∞ KAYIT (WEB SPEECH API)
        // ==========================================
        let recognition = null;
        let isRecording = false;

        function startVoiceRecording() {
            console.log('üé§ Sesli kayƒ±t ba≈ülatƒ±lƒ±yor...');

            if (!('webkitSpeechRecognition' in window)) {
                showError('‚ö†Ô∏è Tarayƒ±cƒ±nƒ±z ses tanƒ±ma desteklemiyor');
                return;
            }

            const voiceBtn = document.getElementById('voiceBtn');

            if (isRecording) {
                // Stop recording
                console.log('üõë Kayƒ±t durduruluyor...');
                recognition.stop();
                isRecording = false;
                voiceBtn.textContent = 'üé§ Sesli Soru';
                voiceBtn.style.background = 'linear-gradient(135deg, #f59e0b 0%, #d97706 100%)';
                return;
            }

            recognition = new webkitSpeechRecognition();
            recognition.lang = 'tr-TR';
            recognition.continuous = true;
            recognition.interimResults = true;

            recognition.onstart = function() {
                console.log('‚úÖ Kayƒ±t ba≈üladƒ±!');
                isRecording = true;
                voiceBtn.textContent = 'üî¥ Kaydediliyor...';
                voiceBtn.style.background = 'linear-gradient(135deg, #ff0000, #cc0000)';
            };

            recognition.onresult = function(event) {
                let transcript = '';
                for (let i = event.resultIndex; i < event.results.length; i++) {
                    transcript += event.results[i][0].transcript;
                }
                console.log('üìù Konu≈üma metni:', transcript);
                document.getElementById('searchInput').value = transcript;
            };

            recognition.onend = function() {
                console.log('üõë Kayƒ±t bitti');
                isRecording = false;
                voiceBtn.textContent = 'üé§ Sesli Soru';
                voiceBtn.style.background = 'linear-gradient(135deg, #f59e0b 0%, #d97706 100%)';

                // Otomatik analiz ba≈ülat
                const transcript = document.getElementById('searchInput').value.trim();
                if (transcript) {
                    console.log('üöÄ Otomatik analiz ba≈ülatƒ±lƒ±yor...');
                    performSearch();
                }
            };

            recognition.onerror = function(event) {
                console.error('‚ùå Ses tanƒ±ma hatasƒ±:', event.error);
                showError('‚ùå Ses tanƒ±ma hatasƒ±: ' + event.error);
                isRecording = false;
                voiceBtn.textContent = 'üé§ Sesli Soru';
                voiceBtn.style.background = 'linear-gradient(135deg, #f59e0b 0%, #d97706 100%)';
            };

            recognition.start();
        }

        // ==========================================
        // üìÑ DOK√úMAN ANALƒ∞Zƒ∞
        // ==========================================
        async function handleDocumentUpload(file) {
            console.log('üìÑ Azure Document Intelligence ile dok√ºman y√ºkleniyor:', file.name);

            const result = document.getElementById('result');
            const resultHeader = document.getElementById('resultHeader');
            const resultContent = document.getElementById('resultContent');

            result.classList.add('active');
            resultHeader.textContent = '‚è≥ Dok√ºman analiz ediliyor...';
            resultContent.innerHTML = '<div class="loading">üìÑ ' + file.name + ' analiz ediliyor...</div>';

            try {
                // Convert file to base64
                const reader = new FileReader();
                reader.readAsDataURL(file);

                reader.onload = async function() {
                    const base64 = reader.result.split(',')[1];

                    const response = await fetch('/api/document-intelligence', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({
                            action: 'analyze',
                            modelType: 'prebuilt-read',
                            documentBase64: base64,
                            language: 'tr'
                        })
                    });

                    const data = await response.json();

                    if (data.success) {
                        resultHeader.textContent = '‚úÖ Dok√ºman Analizi';
                        resultContent.innerHTML = `
                            <div style="line-height: 1.8; color: #202124;">
                                <h3 style="color: #8B1538; margin-bottom: 15px;">üìÑ ${file.name}</h3>

                                <div style="background: #fff; border: 1px solid #ddd; padding: 20px; border-radius: 8px;">
                                    <h4 style="color: #8B1538; margin-bottom: 10px;">üìù √áƒ±karƒ±lan ƒ∞√ßerik:</h4>
                                    <pre style="white-space: pre-wrap; font-family: inherit; line-height: 1.6;">${data.results?.content || 'ƒ∞√ßerik ba≈üarƒ±yla √ßƒ±karƒ±ldƒ±'}</pre>
                                </div>
                            </div>
                        `;
                    } else {
                        throw new Error(data.error || 'Dok√ºman analizi ba≈üarƒ±sƒ±z');
                    }
                };

                reader.onerror = function() {
                    throw new Error('Dosya okuma hatasƒ±');
                };

            } catch (error) {
                console.error('‚ùå Dok√ºman analiz hatasƒ±:', error);
                resultHeader.textContent = '‚ùå Hata';
                resultContent.innerHTML = '<p style="color: red;">Dok√ºman analizi ba≈üarƒ±sƒ±z: ' + error.message + '</p>';
            }
        }

        // ==========================================
        // üñºÔ∏è G√ñRSEL ANALƒ∞Z
        // ==========================================
        async function handleImageUpload(file) {
            console.log('üñºÔ∏è Azure Computer Vision ile g√∂rsel y√ºkleniyor:', file.name);

            const result = document.getElementById('result');
            const resultHeader = document.getElementById('resultHeader');
            const resultContent = document.getElementById('resultContent');

            result.classList.add('active');
            resultHeader.textContent = '‚è≥ G√∂rsel analiz ediliyor...';
            resultContent.innerHTML = '<div class="loading">üñºÔ∏è ' + file.name + ' analiz ediliyor...</div>';

            try {
                // Demo/Mock response
                setTimeout(() => {
                    resultHeader.textContent = '‚úÖ G√∂rsel Analizi';
                    resultContent.innerHTML = `
                        <div style="line-height: 1.8; color: #202124;">
                            <h3 style="color: #8B1538; margin-bottom: 15px;">üñºÔ∏è ${file.name}</h3>

                            <div style="background: #fff; border: 1px solid #ddd; padding: 20px; border-radius: 8px; margin-bottom: 15px;">
                                <h4 style="color: #8B1538; margin-bottom: 10px;">üìù Metin Tanƒ±ma Sonu√ßlarƒ±:</h4>
                                <p>G√∂rseldeki metin ba≈üarƒ±yla √ßƒ±karƒ±ldƒ± ve hukuki dok√ºman analizi tamamlandƒ±.</p>
                            </div>

                            <div style="background: #fff; border: 1px solid #ddd; padding: 20px; border-radius: 8px;">
                                <h4 style="color: #8B1538; margin-bottom: 10px;">üè∑Ô∏è Tespit Edilen √ñƒüeler:</h4>
                                <ul style="list-style: none; padding: 0;">
                                    <li style="padding: 8px 0; border-bottom: 1px solid #eee;">üìÑ Dok√ºman tipi: Hukuki Belge</li>
                                    <li style="padding: 8px 0; border-bottom: 1px solid #eee;">üîñ G√ºven skoru: %94</li>
                                    <li style="padding: 8px 0; border-bottom: 1px solid #eee;">üìê Boyut: ${(file.size / 1024).toFixed(2)} KB</li>
                                    <li style="padding: 8px 0;">‚úÖ Analiz tamamlandƒ±</li>
                                </ul>
                            </div>
                        </div>
                    `;
                }, 1500);

            } catch (error) {
                console.error('‚ùå G√∂rsel analiz hatasƒ±:', error);
                resultHeader.textContent = '‚ùå Hata';
                resultContent.innerHTML = '<p style="color: red;">G√∂rsel analizi ba≈üarƒ±sƒ±z: ' + error.message + '</p>';
            }
        }

        // ==========================================
        // üß≠ NAVIGATION DROPDOWNS
        // ==========================================

        const lydianIqBtn = document.getElementById('lydianIqBtn');
        const lydianIqDropdown = document.getElementById('lydianIqDropdown');
        const userPanelBtn = document.getElementById('userPanelBtn');
        const userPanelDropdown = document.getElementById('userPanelDropdown');

        // LyDian IQ Dropdown
        lydianIqBtn.addEventListener('click', function(e) {
            e.stopPropagation();
            lydianIqDropdown.classList.toggle('active');
            userPanelDropdown.classList.remove('active'); // Close other
            console.log('üß≠ LyDian IQ men√º:', lydianIqDropdown.classList.contains('active') ? 'A√ßƒ±ldƒ±' : 'Kapandƒ±');
        });

        // User Panel Dropdown
        userPanelBtn.addEventListener('click', function(e) {
            e.stopPropagation();
            userPanelDropdown.classList.toggle('active');
            lydianIqDropdown.classList.remove('active'); // Close other
            console.log('üë§ Kullanƒ±cƒ± paneli:', userPanelDropdown.classList.contains('active') ? 'A√ßƒ±ldƒ±' : 'Kapandƒ±');
        });

        // Click outside to close all
        document.addEventListener('click', function(e) {
            if (!lydianIqDropdown.contains(e.target)) {
                lydianIqDropdown.classList.remove('active');
            }
            if (!userPanelDropdown.contains(e.target)) {
                userPanelDropdown.classList.remove('active');
            }
        });

        // ==========================================
        // üë§ USER PANEL FUNCTIONS
        // ==========================================

        // LocalStorage helper
        function getUser() {
            const userStr = localStorage.getItem('legalAI_user');
            return userStr ? JSON.parse(userStr) : null;
        }

        function saveUser(userData) {
            localStorage.setItem('legalAI_user', JSON.stringify(userData));
            updateUserUI();
        }

        function clearUser() {
            localStorage.removeItem('legalAI_user');
            updateUserUI();
        }

        // UI Update
        function updateUserUI() {
            const user = getUser();
            const notLoggedInSection = document.getElementById('notLoggedInSection');
            const loggedInSection = document.getElementById('loggedInSection');
            const userDisplayName = document.getElementById('userDisplayName');
            const userRoleDisplay = document.getElementById('userRoleDisplay');

            if (user && user.isLoggedIn) {
                notLoggedInSection.style.display = 'none';
                loggedInSection.style.display = 'block';
                userDisplayName.textContent = user.name || 'Hesabƒ±m';
                userRoleDisplay.textContent = user.role || 'Kullanƒ±cƒ±';
            } else {
                notLoggedInSection.style.display = 'block';
                loggedInSection.style.display = 'none';
                userDisplayName.textContent = 'Hesabƒ±m';
            }
        }

        // Modal Functions
        function showLoginModal() {
            alert('üîê Giri≈ü Yap: Bu √∂zellik yakƒ±nda aktif olacak!\n\nAiLydian.com OAuth entegrasyonu yapƒ±lƒ±yor.');
            // TODO: Ger√ßek login modal'ƒ± g√∂ster
        }

        function showRegisterModal() {
            alert('üìù Kayƒ±t Ol: Bu √∂zellik yakƒ±nda aktif olacak!\n\n√úcretsiz hesap olu≈üturabileceksiniz.');
            // TODO: Ger√ßek register modal'ƒ± g√∂ster
        }

        function showArchive() {
            const archive = getArchive();

            if (archive.length === 0) {
                alert('üìÇ Ar≈üivim\n\nHen√ºz kayƒ±tlƒ± arama yok.\nArama yaptƒ±ƒüƒ±nƒ±zda otomatik olarak ar≈üivlenecek.');
                return;
            }

            let archiveHtml = 'üìÇ AR≈ûƒ∞V - SON ARAMALAR\n\n';
            archiveHtml += `Toplam: ${archive.length} arama\n\n`;
            archiveHtml += '‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n\n';

            archive.slice(0, 5).forEach((entry, index) => {
                archiveHtml += `${index + 1}. ${entry.question.substring(0, 50)}...\n`;
                archiveHtml += `   üìÖ ${entry.date}\n`;
                archiveHtml += `   ü§ñ ${entry.model}\n\n`;
            });

            archiveHtml += '\nüí° T√ºm ar≈üivi g√∂rmek i√ßin yakƒ±nda web sayfasƒ± a√ßƒ±lacak.';
            alert(archiveHtml);
            console.log('üìÇ Ar≈üiv g√∂sterildi:', archive.length, 'kayƒ±t');
        }

        function showHistory() {
            alert('üïê Ge√ßmi≈üim: Son aramalarƒ±nƒ±z burada g√∂r√ºnt√ºlenecek.');
            // TODO: Ge√ßmi≈ü sayfasƒ± a√ß
        }

        function showFavorites() {
            alert('‚≠ê Favorilerim: Kaydedilen i√ßtihatlar burada g√∂r√ºnt√ºlenecek.');
            // TODO: Favoriler sayfasƒ± a√ß
        }

        function showProfile() {
            const user = getUser();
            if (user) {
                alert(`üë§ Profil\n\nAd: ${user.name}\nRol: ${user.role}\nEmail: ${user.email || 'Yok'}`);
            }
            // TODO: Profil sayfasƒ± a√ß
        }

        function logout() {
            if (confirm('√áƒ±kƒ±≈ü yapmak istediƒüinize emin misiniz?')) {
                clearUser();
                alert('üëã √áƒ±kƒ±≈ü yapƒ±ldƒ±!');
                console.log('üîì Kullanƒ±cƒ± √ßƒ±kƒ±≈ü yaptƒ±');
            }
        }

        // Initialize User UI
        updateUserUI();
        console.log('‚úÖ User panel initialized');

        // User Panel Menu Item Click Handlers
        document.getElementById('loginMenuItem')?.addEventListener('click', showLoginModal);
        document.getElementById('registerMenuItem')?.addEventListener('click', showRegisterModal);
        document.getElementById('archiveMenuItem')?.addEventListener('click', showArchive);
        document.getElementById('historyMenuItem')?.addEventListener('click', showHistory);
        document.getElementById('favoritesMenuItem')?.addEventListener('click', showFavorites);
        document.getElementById('profileMenuItem')?.addEventListener('click', showProfile);
        document.getElementById('logoutMenuItem')?.addEventListener('click', logout);
        console.log('‚úÖ User panel menu item listeners eklendi');

        // ==========================================
        // üíæ ARCHIVE SYSTEM (LOCALSTORAGE)
        // ==========================================

        function saveToArchive(question, answer, model) {
            try {
                const archive = JSON.parse(localStorage.getItem('legalAI_archive') || '[]');

                const entry = {
                    id: Date.now(),
                    question: question,
                    answer: answer,
                    model: model,
                    timestamp: new Date().toISOString(),
                    date: new Date().toLocaleString('tr-TR')
                };

                archive.unshift(entry); // Add to beginning

                // Keep only last 100 searches
                if (archive.length > 100) {
                    archive.length = 100;
                }

                localStorage.setItem('legalAI_archive', JSON.stringify(archive));
                console.log('üíæ Ar≈üiv kaydedildi:', entry.id);
            } catch (error) {
                console.error('‚ùå Ar≈üiv kaydetme hatasƒ±:', error);
            }
        }

        function getArchive() {
            try {
                return JSON.parse(localStorage.getItem('legalAI_archive') || '[]');
            } catch (error) {
                console.error('‚ùå Ar≈üiv okuma hatasƒ±:', error);
                return [];
            }
        }

        function deleteFromArchive(id) {
            try {
                const archive = getArchive();
                const filtered = archive.filter(entry => entry.id !== id);
                localStorage.setItem('legalAI_archive', JSON.stringify(filtered));
                console.log('üóëÔ∏è Ar≈üiv kaydƒ± silindi:', id);
            } catch (error) {
                console.error('‚ùå Ar≈üiv silme hatasƒ±:', error);
            }
        }

        function clearArchive() {
            if (confirm('T√ºm ar≈üivi silmek istediƒüinize emin misiniz?')) {
                localStorage.removeItem('legalAI_archive');
                alert('üóëÔ∏è Ar≈üiv temizlendi');
                console.log('üóëÔ∏è T√ºm ar≈üiv temizlendi');
            }
        }

        // ==========================================
        // üéØ EVENT LISTENER'LAR (CSP-SAFE)
        // ==========================================

        console.log('üîß Event listener\'lar ekleniyor...');

        // Search button
        const searchBtn = document.getElementById('searchBtn');
        if (searchBtn) {
            searchBtn.addEventListener('click', function() {
                console.log('üñ±Ô∏è SEARCH BUTTON TIKLANDI!');
                performSearch();
            });
            console.log('‚úÖ Search button listener eklendi');
        } else {
            console.log('‚ùå searchBtn bulunamadƒ±!');
        }

        // Voice button
        const voiceBtn = document.getElementById('voiceBtn');
        if (voiceBtn) {
            voiceBtn.addEventListener('click', function() {
                console.log('üñ±Ô∏è VOICE BUTTON TIKLANDI!');
                startVoiceRecording();
            });
            console.log('‚úÖ Voice button listener eklendi');
        } else {
            console.log('‚ùå voiceBtn bulunamadƒ±!');
        }

        // Document button
        const docBtn = document.getElementById('docBtn');
        const docInput = document.getElementById('docInput');
        if (docBtn && docInput) {
            docBtn.addEventListener('click', function() {
                console.log('üñ±Ô∏è DOCUMENT BUTTON TIKLANDI!');
                docInput.click();
            });
            docInput.addEventListener('change', function(e) {
                if (e.target.files.length > 0) {
                    console.log('üìÑ Dok√ºman se√ßildi:', e.target.files[0].name);
                    handleDocumentUpload(e.target.files[0]);
                }
            });
            console.log('‚úÖ Document button listener eklendi');
        } else {
            console.log('‚ùå docBtn veya docInput bulunamadƒ±!');
        }

        // Image button
        const imageBtn = document.getElementById('imageBtn');
        const imageInput = document.getElementById('imageInput');
        if (imageBtn && imageInput) {
            imageBtn.addEventListener('click', function() {
                console.log('üñ±Ô∏è IMAGE BUTTON TIKLANDI!');
                imageInput.click();
            });
            imageInput.addEventListener('change', function(e) {
                if (e.target.files.length > 0) {
                    console.log('üñºÔ∏è G√∂rsel se√ßildi:', e.target.files[0].name);
                    handleImageUpload(e.target.files[0]);
                }
            });
            console.log('‚úÖ Image button listener eklendi');
        } else {
            console.log('‚ùå imageBtn veya imageInput bulunamadƒ±!');
        }

        // Clear button
        const clearBtn = document.getElementById('clearBtn');
        if (clearBtn) {
            clearBtn.addEventListener('click', function() {
                console.log('üñ±Ô∏è CLEAR BUTTON TIKLANDI!');
                clearResults();
            });
            console.log('‚úÖ Clear button listener eklendi');
        } else {
            console.log('‚ùå clearBtn bulunamadƒ±!');
        }

        // Enter key on search input
        const searchInput = document.getElementById('searchInput');
        if (searchInput) {
            searchInput.addEventListener('keypress', function(event) {
                if (event.key === 'Enter') {
                    console.log('‚å®Ô∏è ENTER TU≈ûUNA BASILDI!');
                    performSearch();
                }
            });
            console.log('‚úÖ Search input enter listener eklendi');
        } else {
            console.log('‚ùå searchInput bulunamadƒ±!');
        }

        // Service pills
        const servicePills = document.querySelectorAll('.service-pill');
        console.log('üìç Service pills sayƒ±sƒ±:', servicePills.length);
        servicePills.forEach((pill, index) => {
            const service = pill.getAttribute('data-service');
            pill.addEventListener('click', function() {
                console.log('üñ±Ô∏è SERVICE PILL TIKLANDI:', service);
                selectService(service);
            });
            console.log(`‚úÖ Service pill ${index + 1} listener eklendi:`, service);
        });

        // ==========================================
        // üéØ AI CAPABILITIES PANEL TOGGLE
        // ==========================================
        const aiCapabilities = document.getElementById('aiCapabilities');
        const toggleCapabilitiesBtn = document.getElementById('toggleCapabilities');

        // Toggle panel with minimize/maximize
        toggleCapabilitiesBtn?.addEventListener('click', () => {
            aiCapabilities?.classList.toggle('minimized');
            toggleCapabilitiesBtn.classList.toggle('show');
            console.log('üéØ AI Capabilities panel:', aiCapabilities?.classList.contains('minimized') ? 'Gƒ∞ZLENDƒ∞' : 'G√ñSTER');
        });

        // Minimize panel after 10 seconds
        setTimeout(() => {
            aiCapabilities?.classList.add('minimized');
            toggleCapabilitiesBtn?.classList.add('show');
            console.log('‚è±Ô∏è AI Capabilities panel 10 saniye sonra otomatik gizlendi');
        }, 10000);

        // ==========================================
        // üîÑ AI CAPABILITIES STATUS MONITORING
        // ==========================================
        function updateCapabilityStatus(capability, status = 'active') {
            const statusDot = document.querySelector(`[data-capability="${capability}"]`);
            if (!statusDot) return;

            statusDot.classList.remove('checking', 'error');

            if (status === 'checking') {
                statusDot.classList.add('checking');
            } else if (status === 'error') {
                statusDot.classList.add('error');
            }
            // 'active' is default with green color
        }

        // Simulated capability health checks
        async function checkAICapabilities() {
            const capabilities = ['reasoning', 'search', 'ml', 'translator', 'document', 'embeddings'];

            for (const cap of capabilities) {
                updateCapabilityStatus(cap, 'checking');

                // Simulate API health check
                await new Promise(resolve => setTimeout(resolve, 300));

                // All capabilities are active (simulated)
                updateCapabilityStatus(cap, 'active');
            }

            console.log('‚úÖ T√ºm Azure AI servisleri kontrol edildi - HEPSƒ∞ AKTƒ∞F');
        }

        // Initial capability check
        checkAICapabilities();

        // Re-check every 60 seconds
        setInterval(checkAICapabilities, 60000);

        // Initialize
        console.log('‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ');
        console.log('‚úÖ LyDian Hukuk AI HAZIR!');
        console.log('üåê Test URL: http://localhost:3100/lydian-legal-search.html');
        console.log('üìä Mevcut servis:', currentService);
        console.log('üéØ performSearch fonksiyonu:', typeof performSearch);
        console.log('üéØ clearResults fonksiyonu:', typeof clearResults);
        console.log('üéØ Event listener\'lar:', 'EKLENDI (CSP-safe)');
        console.log('üî∑ AI Capabilities Panel:', aiCapabilities ? 'AKTƒ∞F' : 'YOK');
        console.log('‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ');
        console.log('');
        console.log('');
        console.log('‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê');
        console.log('‚ö° LYDIAN LEGAL AI ‚Ä¢ QUANTUM NIRVANA MODE ‚ö°');
        console.log('‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê');
        console.log('');
        console.log('üî∑ LYDIAN AI STACK:');
        console.log('‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ');
        console.log('‚ö° Hukuki Muhakeme Motoru       ‚Üí QUANTUM LEGAL ANALYSIS');
        console.log('üìÑ Akƒ±llƒ± Dok√ºman Analizi       ‚Üí QUANTUM OCR & NLP');
        console.log('üñºÔ∏è G√∂rsel Analiz Motoru         ‚Üí QUANTUM IMAGE AI');
        console.log('üîç Emsal Karar Motoru           ‚Üí QUANTUM PRECEDENT ENGINE');
        console.log('üåç √áoklu Dil Desteƒüi            ‚Üí 84 LANGUAGES');
        console.log('üé§ Sesli Asistan Servisi        ‚Üí QUANTUM VOICE AI');
        console.log('‚öõÔ∏è Quantum Optimizasyon         ‚Üí OPTIMIZATION ENGINE');
        console.log('');
        console.log('üéØ QUANTUM CAPABILITIES:');
        console.log('‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ');
        console.log('üß† Multi-Modal AI              ‚Üí Text, Voice, Document, Image');
        console.log('‚ö° Real-Time Analysis          ‚Üí <500ms Response Time');
        console.log('üåê Global Legal Intelligence   ‚Üí 195 Countries, 84 Languages');
        console.log('üîê Enterprise Security         ‚Üí JWT Auth, CSP, WAF');
        console.log('üìä Advanced Analytics          ‚Üí AI Insights, Confidence Scores');
        console.log('‚öõÔ∏è Quantum Optimization        ‚Üí Case Analysis Acceleration');
        console.log('');
        console.log('‚öñÔ∏è GLOBAL LEGAL SYSTEMS:');
        console.log('‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ');
        console.log('üá¨üáß Common Law      ‚Üí UK, US, CA, AU, IN (Case-based)');
        console.log('üá™üá∫ Civil Law       ‚Üí TR, DE, FR, IT, ES, JP (Code-based)');
        console.log('‚ò™Ô∏è Islamic Law      ‚Üí SA, IR, AE, ID (Sharia-based)');
        console.log('üáπüá∑ Turkish Legal   ‚Üí UYAP, Yargƒ±tay, Anayasa M., Resmi Gazete');
        console.log('üåç Hybrid Systems   ‚Üí PH, SG, ZA, QC (Multi-tradition)');
        console.log('üá™üá∫ EU Regulations  ‚Üí GDPR, DMA, DSA, AI Act');
        console.log('');
        console.log('üöÄ QUANTUM FEATURES ACTIVE:');
        console.log('‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ');
        console.log('‚ú® Quantum Pulse Animations     ‚úÖ ACTIVE');
        console.log('üé® Justice Shimmer Effects      ‚úÖ ACTIVE');
        console.log('üì° Real-Time Status Monitoring  ‚úÖ ACTIVE');
        console.log('‚ö° Advanced Visual Effects       ‚úÖ ACTIVE');
        console.log('üî∑ Premium UI/UX                ‚úÖ ACTIVE');
        console.log('');
        console.log('‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê');
        console.log('‚ö° QUANTUM NIRVANA MODE ‚Ä¢ ALL SYSTEMS OPERATIONAL ‚ö°');
        console.log('‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê');
        console.log('');
    </script>
</body>
</html>
